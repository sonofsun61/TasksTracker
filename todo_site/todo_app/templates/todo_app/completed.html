{% extends 'todo_app/layout.html' %}
{% load static %}

{% block head %}
<meta name="csrf-token" content="{{ csrf_token }}">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Выполненные задачи</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link rel="stylesheet" href="{% static 'todo_app/css/aside.css' %}">
<link rel="stylesheet" href="{% static 'todo_app/css/completed.css' %}">
{% endblock %}

{% block content %}
<noscript>Необходимо включить Javascript в вашем браузере</noscript>
<div class="main">
    {% if tasks %}
    <p class="main__p">История выполненных задач</p>

    <!-- Один общий контейнер для всех задач -->
    <div class="main__tasks-area">
        {% for task in tasks %}
        <div class="main__tasks-area__task-container" data-task-id="{{ task.id }}">
            <div class="main__tasks-area__task-container__arrow-icon">
                <i class="fa-solid fa-arrow-left arrow-icon"></i>
            </div>
            <p class="main__tasks-area__task-container__task-name">
                <i class="fa-solid fa-check" id="main__tasks-area__task-container__checkmark"></i>
                Вы выполнили задачу: {{task.task}}
            </p>
            <p class="main__tasks-area__task-container__task-completion-time">{{task.completion_time}}</p>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <p class="main__no-tasks-label">У вас пока нет выполненных задач</p>
    {% endif %}
</div>
<script src="{% static 'todo_app/js/undo_task.js' %}"></script>
{% endblock %}